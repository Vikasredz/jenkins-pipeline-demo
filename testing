pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                echo 'Building the application...'
                // Replace this with your actual build command/script
                bat 'echo Simulating Build...'
            }
        }

        stage('Tests') {
            steps {
                echo 'Running Unit & Integration Tests...'
                // Replace with your actual test command/script
                bat 'echo Simulating Tests...'
            }
        }

        stage('Code Analysis') {
            steps {
                echo 'Running Code Analysis...'
                // Replace with your analysis tool or remove if not needed
                bat 'echo Simulating Code Analysis...'
            }
        }

        stage('Security Scan') {
            steps {
                echo 'Running Security Scan...'
                // Replace with actual security tool or remove if not applicable
                bat 'echo Simulating Security Scan...'
            }
        }

        stage('Deploy to Staging') {
            steps {
                echo 'Deploying to AWS EC2 Staging...'
                // Simulated SCP command (replace with actual deployment if needed)
                bat 'echo Deploying to Staging...'
            }
        }

        stage('Staging Tests') {
            steps {
                echo 'Running Postman API Tests on Staging...'
                // Replace with actual Postman or Newman command
                bat 'echo Running Staging API Tests...'
            }
        }

        stage('Deploy to Production') {
            steps {
                echo 'Deploying to AWS EC2 Production...'
                // Simulated SCP command (replace with actual production deploy)
                bat 'echo Deploying to Production...'
            }
        }
    }
}
